<!DOCTYPE HTML>
<html>

<head>
	<title>Berusky</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #000000;
		}
	</style>
	<script src="pixi/bin/pixi.dev.js"></script>
</head>

<script type="text/javascript" src="defines.js"></script>
<script type="text/javascript" src="helpers.js"></script>
<script type="text/javascript" src="graphics.js"></script>
<script type="text/javascript" src="load.js"></script>
<script type="text/javascript" src="game_object.js"></script>
<script type="text/javascript" src="level.js"></script>

<body>
<script>
  function gameLoop() {
	    requestAnimFrame(gameLoop);
	    graph.render();
	}

  var graph = new Graph();
  graph.init();

  var level = new Level();
  level.load("data/Levels/j01.lv3");

  var repo = new ObjectsRepository();
  repo.load();

  // TODO - wait until level data is loaded
  graph.load_background(level.background);

  // TODO - wait until all data is loaded
  level.render(repo);

  document.body.appendChild(graph.get_renderer().view);
  requestAnimFrame(gameLoop);
  </script>

</body>
</html>
